{"name":"技术","slug":"技术","count":1,"postlist":[{"title":"回望创建博客路上我走过的那些坑","slug":"回望创建博客路上我走过的那些坑","date":"2019-08-24T12:43:35.000Z","updated":"2019-03-31T12:47:10.627Z","comments":true,"path":"api/articles/回望创建博客路上我走过的那些坑.json","excerpt":"","keywords":null,"cover":null,"content":"<link rel=\"stylesheet\" class=\"aplayer-secondary-style-marker\" href=\"\\assets\\css\\APlayer.min.css\"><script src=\"\\assets\\js\\APlayer.min.js\" class=\"aplayer-secondary-script-marker\"></script><p>唉，这hexo还真是不让人省心呢，加上我本身粗心大意，因此很多文档中的步骤没有做到位而导致了一次一次的跳坑。。。想来很多新手应该和我一样阅坑无数吧XD，不过习惯之后也就好了嘛。</p>\n<p>现在想来花费我最长时间的应该是这个主题的部署和博客后台的创建。这个主题是由minfive创造的skapp主题。这主题的安装过程中主要是在使用cnpm安装<code>lunr.js</code>时，总是会提示我没有python编程环境。没有环境？我下一个就好了嘛。然后我就去了python官网下了一个最新版的python。（这里要吐槽一下官网，干嘛弄那么多版本让人头大。。至少按照常用的顺序来做个排序什么的啊。。。我是选择的exe直装版）</p>\n<p>现在好，python装上了，问题依旧。主要就是在<code>hexo s</code>之后打开无法生成scss的样式文件。并且在重复多次安装主题的依赖环境后我才发现，特么还是那个<code>lunr.js</code>的锅。于是我就到了他的仓库页面，发现人家不支持3.x的python版本，最好是用2.7我勒个去嘞。。。</p>\n<p>嗯，python2.7装好了，这下总可以了吧？嘛。不行。</p>\n<p>这一次抛出了一个<code>gyp ERR! build error</code>的错误，上网查了一下，发现是要装一个<code>node-gyp</code>的编译环境。这里提示需要管理员权限，所以我就找到<code>git bash</code>的源文件给了权限，发现还是不行。仔细看了readme，作者仅仅是说了一句</p>\n<blockquote>\n<p>确认 PATH 中 python 路径是否设置。</p>\n</blockquote>\n<p>卧槽你说的这么不明不白我到哪里去弄啊？在长期的搜索和百度尝试无数次，结合自身的实际情况之后才研究出我还需要进入控制面板中的环境变量，在系统变量的<code>path</code>中新建到<code>PYTHON27</code>的目录，之后重启命令行即可安装成功。并不是建个<code>PYTHON</code>的变量到<code>python37</code>。。</p>\n<p>之后我遇到的一个问题就是gitalk的配置，我所用的这个主题内置了gitalk你只需要在<code>_config.yml</code>配置一下就行了。但是它的repo没有说清楚需要用的是博客项目的名字而不是仓库地址，于是你进博客在评论框上面就会有红色的ERROR提醒，看了issues才知道是这样，这也是我踩过的一个坑。</p>\n<p>这之后我遇到的一个坑就是寻找hexo的后台管理插件。因为命令行的管理方式太过于纷繁复杂，每次都要执行那些命令，发布一个文章就需要耗费比较长的时间在这些没有什么意义的事情上。所以我百度下有不少人推荐<code>hexo-admin</code>这款插件。</p>\n<p>下载安装一路顺利，当你使用<code>hexo s</code>时就会自动启动，接下来便基本可以脱离命令行进入浏览器使用图形界面进行编辑了。插件没有中文，配合谷歌翻译使用影响不大。</p>\n<p>一开始的注册登录设置密码就给我挖了一个坑，他要求我在<code>_config.yml</code>配置如下形式：</p>\n<pre><code>admin:\n  username: myfavoritename\n  password_hash: be121740bf988b2225a313fa1f107ca1\n  secret: a secret something\n</code></pre><p>嘛，我当时没挺注意这个hash和secret，直接填了明文就进去了，发现登不上。在网上搜了一番，说要什么bcrypt加密？？？这害得我又去调试人家的python脚本，拿来发现闪退。。我又用sublime进行调试，结果它给我蹦出来一个<code>Decode error - output not utf-8</code>，害得我又去晚上找教程配置sublime3的python开发环境，装插件啥的啊一大堆。。。</p>\n<p>回去仔细看了readme，玛德人家已经提供了加密的功能XDDDDDDDD，你只需要无密码进后台然后在<code>Settings &gt; Setup authentification</code>的选项里填入你的用户名密码人家自动在下面给你生成好你只要复制就行了XDDDDDDDD。。。。。</p>\n<p>原以为这样我就可以使用hexo-admin无忧无虑的发文章了，当我打了hello world准备测试下发布时，网络控制台没啥反应，命令行那边疑似抛出了未知错误，我能找到关键的一句就是<code>TypeError: path.substring is not a function</code>，我试了试点了下控制台里的deploy，抛出了<code>error: Config value &quot;admin.deployCommand&quot; not found</code>于是我到了该项目的issunes里面找答案，虽然有一些解决方案，比如让你在<code>_config.yml</code>的admin里面编辑如下内容（一行一个解决方案）：</p>\n<pre><code>deployCommand: hexo\ndeployCommand: hexo deploy\nhexo deploy\nsh hexo-deploy.sh\nnode ./node_modules/hexo/bin/hexo deploy\n</code></pre><p>我每一个都试过，可那边就是变着法的给你报错。例如：</p>\n<pre><code>deploy Error: spawn UNKNOWN\nError: spawn ./hexo-deloy.sh ENOENT\nError: spawn ./hexo-deploy.bat ENOENT\nError: spawn hexo ENOENT\nError: spawn hexo deploy ENOENT\n</code></pre><p>由上可以看到，还有让你创建shell脚本让他通过脚本来执行的，但这些方法并不可行。当然我也可以改成：</p>\n<pre><code>deployCommand: &apos;deply.bat&apos;\n</code></pre><p>在这个bat文件中打一个<code>hexo deploy</code>，但这样意义何在啊？并且我那边并不能够正常的发布文章。虽然markdown文件我看目录是创造了的，但是与其这样我还不如用命令行呢！如果在这种情况下使用这个的意义也就仅仅是给你在web下提供了一个写文章的空间了。所以说，我要这个干嘛！</p>\n<p>于是我在网上也找了几个hexo的后台插件。但我感测试的的都是国人所创，外国人的插件不敢多用，毕竟开着谷歌翻译看readme和stackoverflow是一件很痛苦的事情。</p>\n<p>随后我便测试了nihgwu的<code>hexo-hey</code>(但无法登入，作者说明该项目所依赖的后端已经死了，所以这个废了。)以及geekwen的<code>hexo-local-admin</code>（我在使用命令配置他所说的不知道什么鬼东西时可能配置错了，第二次卸载后再使用时就输出<code>throw error;</code>无法使用。我也提了<a href=\"https://github.com/geekwen/hexo-local-admin/issues/6\" target=\"_blank\" rel=\"external\">issue</a>，刚看到作者回复了我，等下我去研究下。）</p>\n<p>之后相中了tajpure的<code>hexo-editor</code>，挺好用，功能正常，配置简单，就是他了。</p>\n<p>由此告诫自己：有问题看README!有问题看README!有问题看README!</p>\n","text":"唉，这hexo还真是不让人省心呢，加上我本身粗心大意，因此很多文档中的步骤没有做到位而导致了一次一次的跳坑。。。想来很多新手应该和我一样阅坑无数吧XD，不过习惯之后也就好了嘛。现在想来花费我最长时间的应该是这个主题的部署和博客后台的创建。这个主题是由minfive创造的skapp","link":"","raw":null,"photos":[],"categories":[],"tags":[{"name":"技术","slug":"技术","count":1,"path":"api/tags/技术.json"}]}]}